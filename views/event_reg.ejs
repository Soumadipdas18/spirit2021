<!DOCTYPE html>
<html>
    <head>
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
		<style>
			body {
  margin: 0% 0%;
  padding: 0% 0%;
}

#root {
  height: 100%;
  margin: 0% 0%;
  padding: 0% 0%;
}

.leftDiv {
  position: relative;
  top: 0px;
  float: left;
  width: 58%;
  height: 100vh;
  overflow-y: auto;

  background: #c567ff;
}

.rightDiv {
  position: relative;
  float: left;
  width: 42%;
  height: 100vh;
  overflow-y: auto;

  background: #0a0a0a;
}

.img {
  width: 100%;
  height: 28vh;

  background-image: url("https://raw.githubusercontent.com/Nikitha2309/Private/main/Rectangle%2015.png?token=APXZ46JWYJHYBA72RAM4UJDBJGUNC");
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

.titleRow {
  width: 100%;
  padding-top: 3.6%;
  display: inline-block;
}

.title {
  position: relative;
  float: left;
  width: fit-content;
  margin-left: 4.3%;

  font-family: Poppins;
  font-style: normal;
  font-weight: 600;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.date {
  position: relative;
  float: right;
  width: fit-content;
  margin-right: 7.3%;
  font-family: Poppins;
  font-style: normal;
  font-weight: 600;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.description {
  position: relative;
  display: inline-block;
  width: 89.4%;
  height: fit-content;
  padding-top: 5.5%;
  padding-left: 4.2%;
  padding-right: 6.4%;
  padding-bottom: 3.3%;
  justify-content: center;

  font-family: Poppins;
  font-style: normal;
  font-weight: normal;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.row {
  width: 100%;
  height: fit-content;
  margin-bottom: 2.6vh;
  display: inline-block;
}

.leftRow {
  float: left;
  width: 43%;
  margin-left: 4.2%;

  font-family: Poppins;
  font-style: normal;
  font-weight: normal;
  font-size: 3.3vh;

  color: #0a0a0a;
}

.rightRow {
  float: left;
  width: 13.9%;
  margin-left: 24.1%;

  font-family: Poppins;
  font-style: normal;
  font-weight: normal;
  font-size: 3.3vh;

  text-align: right;
  color: #0a0a0a;
}

.registerTitle {
  width: 17.4%;
  height: 3.7vh;
  margin-left: 21.1%;
  margin-top: 15vh;
  margin-bottom: 6vh;

  font-family: Inter;
  font-style: normal;
  font-weight: bold;
  font-size: 3.1vh;

  color: #ffffff;
}

.formFieldRow {
  height: 4.4vh;
  width: 100%;
  margin-bottom: 3.1vh;
}

.formFieldLabel {
  float: left;
  width: 14.7%;
  height: 4vh;
  margin-left: 21.1%;

  font-family: Inter;
  font-style: normal;
  font-weight: 600;
  font-size: 1.6vh;
  line-height: 2vh;
  text-align: right;

  color: rgba(255, 255, 255, 0.8);
}

.formFieldInput {
  float: left;
  width: 38.4%;
  height: 4.4vh;
  margin-left: 2.4%;
  color: rgba(255, 255, 255);

  border: 1px solid rgb(255, 255, 255);
  box-sizing: border-box;
  box-shadow: inset 0px -1px 5px rgba(0, 0, 0, 0);
  border-radius: 8px;
  background-color: rgba(0, 0, 0);
}

.formSubmit {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 1.8vh 20%;

  width: 37.4%;
  height: 5.7vh;
  margin-left: 38.4%;
  margin-top: 5.7vh;
  margin-bottom: 23.1vh;

  background: #c567ff;
  border-radius: 8px;

  font-family: Inter;
  font-style: normal;
  font-weight: 600;
  font-size: 1.6vh;

  color: #0a0a0a;
}

@media screen and (max-device-width: 600px) {
  #root {
    overflow-y: auto;
  }

  .leftDiv,
  .rightDiv {
    height: fit-content;
    width: 100%;
    margin-left: 0;
  }
}

@media screen and (max-device-width: 480px) {
  .title,
  .date {
    font-size: 20px;
  }

  .description {
    font-size: 18.5px;
  }

  .leftRow,
  .rightRow {
    font-size: 17px;
  }
}

		</style>
    </head>
    <body>
        <div class="root">
			<div class="leftDiv">
				<div class="img"></div>
				<div class="titleRow">
					<div class="title">Lorem ipsum dolor</div>
					<div class="date">25-5-21</div>
				</div>
				<div class="description">
					  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
					  eiusmod tempor adipiscing elit, sed do eiusmod tempor orem ipsum dolor
					  sit amet, consectetur adipisci elit, sed do eiusmod tempor adipiscing
					  elit, sed do eiusmod tempor
        		</div>
				<div class="row">
				  <div class="leftRow">Lorem ipsum dolor sit amet </div>
				  <div class="rightRow">sit amet</div>
				</div>
				<div class="row">
				  <div class="leftRow">Lorem ipsum dolor sit amet </div>
				  <div class="rightRow">sit amet</div>
				</div>
				<div class="row">
				  <div class="leftRow">Lorem ipsum dolor sit amet </div>
				  <div class="rightRow">sit amet</div>
				</div>
			</div>
			<div class="rightDiv">
				<div class="registerTitle">Register</div>
				<form id="event-form" method="POST" action="event_registration/post/">
					<div class="formFieldRow">
          				<label class="formFieldLabel">Username </label>
          				<input type="text" autocomplete="off" id="username" placeholder="Username" value="<%=user.username%>"required class="formFieldInput" />
        			</div>
					<div class="formFieldRow">
          				<label class="formFieldLabel">Email id </label>
          				<input type="email" autocomplete="off" id="email" placeholder="Email"  value="<%=user.email%>"required class="formFieldInput" />
        			</div>
					<div class="formFieldRow">
          				<label class="formFieldLabel">Choose an Event </label>
						<select name="event_name" id="event_name" value=""required class="formFieldInput">
							<option value="event1">Event1</option>
							<option value="event2">Event2</option>
						</select><br>   
        			</div>
					<div class="formFieldRow">
          				<label class="formFieldLabel">Field 1 </label>
          				<input type="text" id="field1" name="name1" value=""required  class="formFieldInput" />
        			</div>
					<div class="formFieldRow">
          				<label class="formFieldLabel">Field 2 </label>
          				<input type="text" id="field2" name="name2" value=""required  class="formFieldInput" />
        			</div>
					<div class="formFieldRow">
          				<label class="formFieldLabel">Field 3 </label>
          				<input type="text" id="field3" name="name3" value=""required  class="formFieldInput" />
        			</div>
					<input type="submit" class="formSubmit" value="Register" />
				</form>
			</div>
		</div>
		
	<script>
        var form = document.getElementById('event-form')
        form.addEventListener('submit', registerForm)
        async function registerForm(event) {
            event.preventDefault()
            let name = '<%-user._id%>'
            let email = '<%=user.email%>'
            var event_name = document.getElementById('event_name').value
            var field1 = document.getElementById('field1').value
            var field2 = document.getElementById('field2').value
            var field3 = document.getElementById('field3').value
            var result = await fetch(`/events/event_registration/post/${name}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email,event_name,field1,field2,field3
                })
            }).then((res) => res.json())

            if (result.status === 'ok') {
				window.location.replace(`/events/event_registration/success`);
                alert('Success')
            } else {
				window.location.replace(`/`);
                alert(result.error)
            }
        }
    </script>

    </body>
</html>